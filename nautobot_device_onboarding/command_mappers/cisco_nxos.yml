---
device_onboarding:
  # use_textfsm: true
  hostname:
    command:
      command: "show version"
      use_textfsm: true
    jpath: "[*].hostname"
  serial:
    command:
      command: "show version"
      use_textfsm: true
    jpath: "[*].serial"
  device_type:
    command:
      command: "show version"
      use_textfsm: true
    jpath: "[*].platform"
  mgmt_interface:
    command:
      command: "show interface"
      use_textfsm: true
    jpath: "[?ip_address=='{{ obj }}'].interface || [`mgmt0`]"
  mask_length:
    command:
      command: "show interface"
      use_textfsm: true
    jpath: "[?ip_address=='{{ obj }}'].prefix_length || [`31`]"
