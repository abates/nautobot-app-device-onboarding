---
device_onboarding:
  use_textfsm: true
  hostname:
    jpath: "[*].hostname"
    command: "show version"
  serial:
    command: "show version"
    jpath: "[*].serial[0]"
  device_type:
    command: "show inventory"
    jpath: "[?name=='Chassis'].pid"
  mgmt_interface:
    command: "show interfaces"
    jpath: "[?ip_address=='{{ host_info }}'].interface"
  mask_length:
    command: "show interfaces"
    jpath: "[?ip_address=='{{ host_info }}'].prefix_length"
network_importer:
  use_textfsm: true
  serial:
    command: "show version"
    jpath: "[*].serial[0]"
  interfaces:
    command: "show interfaces"
    jpath: "[*].[$interface$,link_status,protocol_status,hardware_type,mac_address,ip_address,prefix_length,mtu]"
    post_processor: "{{ obj }}"
