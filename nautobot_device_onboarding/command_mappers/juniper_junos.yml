---
device_onboarding:
  use_textfsm: true
  hostname:
    command: "show version"
    jpath: "[*].hostname"
  serial:
    command: "show version"
    jpath: "[*].serial_number"
  device_type:
    command: "show chassis hardware"
    jpath: "[*].model"
  mgmt_interface:
    command: "show interfaces"
    jpath: "[?local=='{{ obj }}'].interface"
  mask_length:
    command: "show interfaces"
    jpath: "[?local=='{{ obj }}'].destination"
    post_processor: "{{ obj[0] | ipaddress_interface('netmask') | netmask_to_cidr }}"
