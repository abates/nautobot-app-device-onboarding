---
device_onboarding:
  use_textfsm: false
  hostname:
    command: "show version | display json"
    jpath: '"software-information"[0]."host-name"[0].data'
  serial:
    command: "show version | display json"
    jpath: "'chassis-inventory"[0].'chassis'[0].'serial-number'[0].data"
  device_type:
    command: "show version | display json"
    jpath: "'software-information'[0].'product-model'[0].data"
  mgmt_interface:
    command: "show interfaces"
    jpath: "'interface-information'[0].'logical-interface'[0].'address-family'[0].'interface-address'[0].'ifa-local'[0].data"
  mask_length:
    command: "show interfaces"
    jpath: "[?local=='{{ obj }}'].destination"
    post_processor: "{{ obj[0] | ipaddress_interface('netmask') | netmask_to_cidr }}"
